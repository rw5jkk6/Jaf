## 対話型のシェルについて
### ダムシェルから完全な対話型のシェルまで
- 左から右に行くほど、完全なシェルになる
- ダムシェル -> (rlwrap) -> ttyシェル -> 完全な対話型のシェル
### シェルの種類の見分け方
- `echo $-`このコマンドで文字列の中に`i`が含まれていたらインタラクティブシェル
- `tty`と打って、`not a tty`とでなければttyシェル
### シェルの種類と説明、奪取の方法
- reverse-shellでシェルが取得できるがダムシェルである
  - タブ補完できない
  - 上下キーで履歴が見れない
  - vi,nanoがうまく使えない
  - 標準エラーが出力されない
  - `ctrl c`でセッションが切断される
  - su,sudo,sshなどの一部のコマンドが使えない
- rlwrapは待受の際に`rlwrap nc -nlvp ポート番号`とする
  - タブ補完が使える
  - コマンド履歴が使える 
- ttyシェル`python -c 'import pty;pty.spawn("/bin/bash")'`
  - 完璧でもないが、これでもいい 

- 完璧なシェルを目指す
  - 他のターミナルを立ち上げて、`echo $TERM`を調べる
  - リバースシェルで次のコマンドを打つ
  - `ctrl z`でバックグランドで起動させる
  - `stty raw -echo;fg`
  - `reset`
  - `export TERM=xterm-256color`
  - `export SHELL=bash` 
- これで完璧なシェルになるはずだが、なぜか表示がおかしくなるので、とりあえず気にせず続ける

## ログインシェルが非ログインシェル
- `shopt login_shell`
  - onなら`.bash_profile`や`.profile`を読み込む
  - offなら`.bashrc`を読み込む

### ログインシェル
- `/etc/profile`が初めに呼ばれる。次に`.bash_profile`や`.profile`を読み込む
### 非ログインシェル
- ログインした後に実行する追加のシェルのこと
- `/etc/bash.bashrc`が初めに呼ばれる。次に`.bashrc`を読み込む

