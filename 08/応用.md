### locateコマンド
- findと同じようにファイルを探すときに使うが、findよりはるかに簡単に使える
- locateコマンド
  - `sudo mkdir -p /var/cache/locate`
  - `sudo updatedb`
- 使い方
  - 辞書の中でsubdomainという辞書を探したいときに
  - `locate subdomain`

### サブドメインを探す
- サブドメインとは`blog.raven.local`とか`news.raven.local`みたいなもの、ravenにはサブドメインはないが、gobusterの練習も含めてやってみる
- `goubuster vhost --append-domain -u raven.local -w /usr/share/wordlists/SecLists-master/Discovery/DNS/subdomains-top1million-5000.txt`
- ここでは何もでてこないが、サブドメインはこうやって探す

### wp-jsonを見る
- `http://raven.local/wordpress/index.php/wp-json`
- ユーザ名など見れる


### hydraで工夫する
- `hydra ssh://$IP -L names.txt -e nsr -t 50`
  - nsrはnはnull,sはログインとパスワードが同じ,rはログインをreverseしたもの
  - ユーザ名とパスワードが同じものをJoeアカウントと呼ぶ 


### /contact.phpがある
- raben2みたいにexploitのphpmailerを使えるんでは？-> 使える
- `python 40974.py`
- `http://raven.local/shell.php`


### MySQL(UDF)
- `create function do_system returns integer soname '1518.so'のところでエラーが出る。
  - Can't open shared library '1518.so'

### wordpressのダッシュボードにログインする
- `http://raven.local/wordpress/wp-admin`
  - steven:pink84
- plugins,appearanceもないのでリバースシェルは送れない
- Media Library->AddNewにphp-reverse-shellをダウンロードして、rev.php.pngに名前を変えてuploadする
- Libraryにファイルがあるのを確認する
- `nc -nlvp 9001`で待ち受ける
- `http://raven.local/wordpress/wp-content/uploads/`でディレクトリリスティングできるのでアクセスする
- 失敗する


### いろいろ試してみる
- rpcbindとは
- `searchsploit rpcbind`でDos攻撃してみる

### 考え方
- nmap
- wordpress
- 3つの考え方のうちwpscanはどのタイプが多いか
- ユーザ名とパスワードを探す
- 侵入
- sudo -l, suidどれも不可
- ユーザを切り替える
- システム内の探索
- 新しいユーザ
- sudo -l, suid
- root
  
